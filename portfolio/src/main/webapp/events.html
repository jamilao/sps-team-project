<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Events</title>
        <link href="https://fonts.googleapis.com/css2?family=Titillium+Web&display=swap" rel="stylesheet"> 
        <link rel="stylesheet" href="events.css">
        <script src="events.js"></script>
    </head>
    <body onload="fetchEvents();getLastSelectedValue()">
        <div id="header">
        <section id="nav_bar" class="container">
            <h41>Supporting ProtestS</h41>
            <h4><a href="/events.html">Main</a></h4>
            <h4><a href="/resources.html">Resources</a></h4>
            <h4><a href="/organizereventedit.html">Create Event</a></h4>
        </section>
        </div>  
        <div id="protest_menu">
        <h2>Join a protest in:</h2>
        <div class="dropdown">
            <select name="cities" id="cities" onchange = "getSelectValue('cities');">
            <option style="color:black;"value="All" selected>All</option>
            <option style="color:black;"value="New York">New York</option>
            <option style="color:black;"value="New Jersey">New Jersey</option>
            <option style="color:black;"value="Brooklyn">Brooklyn</option>
            </select>
           <!-- <button class="dropbtn">Choose a city</button>
            <div class="dropdown-content">
            <a href='#'>All</a>
            <a href="1">New York</a>
            </div>-->
        </div>
        </div>
        <div id="main">
            <div id="upcoming">
            <h2>Upcoming events</h2>
            </div>
            <div id="events" class="container"> 
            </div>
        </div>
    </body>
</html>
<script type="text/javascript">
/*
var select = document.getElementById("cities"); 
var options = new Array();
events.forEach((event)=> {
    options.push(event.location);
        });

for(var i = 0; i < options.length; i++) {
    var opt = options[i];

    var el = document.createElement("option");
    el.text = opt;
    el.value = opt;

    select.add(el);
}â€‹*/

function getSelectValue(selectID){
         pick_ = document.getElementById('cities').value;
         localStorage.setItem("lastSelectedValue", pick_); 
         location.reload(); 
}
function getLastSelectedValue(){
         var value = localStorage.getItem("lastSelectedValue")
         if(value )
         {
            document.getElementById('cities').value = value  ;
         }
}
</script>